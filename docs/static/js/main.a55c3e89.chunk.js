(this.webpackJsonpmatrix=this.webpackJsonpmatrix||[]).push([[0],{13:function(t,e,r){"use strict";r.r(e);var s=r(1),a=r.n(s),o=r(7),p=r.n(o),n=r(2),i=r(3),l=r(5),c=r(4),d=r(0),h=function(t){Object(l.a)(r,t);var e=Object(c.a)(r);function r(){var t;Object(n.a)(this,r);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).handleChange=function(e){t.props.mirror&&t.props.updateEntry(t.props.col,t.props.row,e.target.value),t.props.updateEntry(t.props.row,t.props.col,e.target.value)},t.handleAddRow=function(e){if(t.props.mirror){var r=Math.max(t.props.cols,t.props.rows+1);t.props.addCols(r-t.props.cols),t.props.addRows(r-t.props.rows),t.props.updateEntry(t.props.col,t.props.row,e.target.value)}else t.props.addRows(1);t.props.updateEntry(t.props.row,t.props.col,e.target.value)},t.handleAddCol=function(e){if(t.props.mirror){var r=Math.max(t.props.cols+1,t.props.rows);t.props.addCols(r-t.props.cols),t.props.addRows(r-t.props.rows),t.props.updateEntry(t.props.col,t.props.row,e.target.value)}else t.props.addCols(1);t.props.updateEntry(t.props.row,t.props.col,e.target.value)},t.handleAddBoth=function(e){if(t.props.mirror){var r=Math.max(t.props.cols+1,t.props.rows+1);t.props.addCols(r-t.props.cols),t.props.addRows(r-t.props.rows),t.props.updateEntry(t.props.col,t.props.row,e.target.value)}else t.props.addCols(1),t.props.addRows(1);t.props.updateEntry(t.props.row,t.props.col,e.target.value)},t.handleKeyDown=function(e){16===e.keyCode&&(t.props.rows===t.props.row+1&&t.props.addRows(1),t.props.cols===t.props.col+1&&t.props.addCols(1)),8===e.keyCode&&""===e.target.value?t.props.tryToDelete(t.props.row,t.props.col):0===e.target.selectionStart&&37===e.keyCode?0!==t.props.col?(document.getElementById(t.props.row+":"+(t.props.col-1)).focus(),document.getElementById(t.props.row+":"+(t.props.col-1)).selectionStart=0):0!==t.props.row&&document.getElementById(t.props.row-1+":"+(t.props.cols-1)).focus():e.target.selectionStart===e.target.value.length&&39===e.keyCode?t.props.col!==t.props.cols-1?(document.getElementById(t.props.row+":"+(t.props.col+1)).focus(),document.getElementById(t.props.row+":"+(t.props.col+1)).selectionStart=-1):t.props.row!==t.props.rows-1&&document.getElementById(t.props.row+1+":0").focus():40===e.keyCode?t.props.row!==t.props.rows-1?document.getElementById(t.props.row+1+":"+t.props.col).focus():t.props.col!==t.props.cols-1&&document.getElementById("0:"+(t.props.col+1)).focus():38===e.keyCode&&(0!==t.props.row?document.getElementById(t.props.row-1+":"+t.props.col).focus():0!==t.props.col&&document.getElementById(t.props.rows-1+":"+(t.props.col-1)).focus())},t}return Object(i.a)(r,[{key:"render",value:function(){return this.props.cols===this.props.col+1&&this.props.rows===this.props.row+1?Object(d.jsx)("td",{children:Object(d.jsx)("input",{tabIndex:-1,autoComplete:"off",id:this.props.row+":"+this.props.col,onKeyDown:this.handleKeyDown,onChange:this.handleAddBoth,value:this.props.num},this.props.row+":"+this.props.col)}):this.props.cols===this.props.col+1?Object(d.jsx)("td",{children:Object(d.jsx)("input",{tabIndex:0===this.props.row?"":-1,autoComplete:"off",id:this.props.row+":"+this.props.col,onKeyDown:this.handleKeyDown,onChange:this.handleAddCol,value:this.props.num},this.props.row+":"+this.props.col)}):this.props.rows===this.props.row+1?Object(d.jsx)("td",{children:Object(d.jsx)("input",{autoComplete:"off",id:this.props.row+":"+this.props.col,onKeyDown:this.handleKeyDown,onChange:this.handleAddRow,value:this.props.num},this.props.row+":"+this.props.col)}):Object(d.jsx)("td",{children:Object(d.jsx)("input",{autoComplete:"off",id:this.props.row+":"+this.props.col,onKeyDown:this.handleKeyDown,onChange:this.handleChange,value:this.props.num},this.props.row+":"+this.props.col)})}}]),r}(a.a.Component),m=function(t){Object(l.a)(r,t);var e=Object(c.a)(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var t=this;return Object(d.jsx)("tr",{children:this.props.boxes.map((function(e,r){return Object(d.jsx)(h,{addRows:t.props.addRows,addCols:t.props.addCols,tryToDelete:t.props.tryToDelete,rows:t.props.rows,cols:t.props.cols,updateEntry:t.props.updateEntry,num:e,row:t.props.row,col:r,mirror:t.props.mirror},t.props.row+":"+r)}))})}}]),r}(a.a.Component),u=function(t){Object(l.a)(r,t);var e=Object(c.a)(r);function r(){var t;Object(n.a)(this,r);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).handleChange=function(e){t.props.updateParameter(t.props.id,e.target.value)},t}return Object(i.a)(r,[{key:"render",value:function(){return Object(d.jsx)("input",{type:"text",style:{width:this.props.width},defaultValue:this.props.defaultVal,onChange:this.handleChange})}}]),r}(a.a.Component),x=function(t){Object(l.a)(r,t);var e=Object(c.a)(r);function r(){var t;Object(n.a)(this,r);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).handleChange=function(e){t.props.updateParameter(t.props.id,e.target.checked)},t}return Object(i.a)(r,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"form-check form-switch",children:[Object(d.jsxs)("label",{className:"form-check-label",htmlFor:this.props.name+"Switch",children:[" ",this.props.text," "]}),Object(d.jsx)("input",{className:"form-check-input",onChange:this.handleChange,type:"checkbox",defaultChecked:this.props.defaultVal,id:this.props.name+"Switch"})]})}}]),r}(a.a.Component),f=function(t){Object(l.a)(r,t);var e=Object(c.a)(r);function r(t){var s;return Object(n.a)(this,r),(s=e.call(this,t)).handleFocus=function(t){t.target.select()},s.updateExportParameter=function(t,e){switch(t){case"environment":s.setState({environment:e});break;case"start":s.setState({start:e});break;case"end":s.setState({end:e});break;case"delim":s.setState({delim:e});break;case"latex":s.setState({latex:e})}},s.state={start:"{",end:"}",delim:",",latex:!1,environment:"bmatrix"},s}return Object(i.a)(r,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"row export",children:[Object(d.jsx)("textarea",{readOnly:!0,onClick:this.handleFocus,className:"output",value:this.matrixToString(this.props.matrix)}),Object(d.jsx)("div",{className:"col-sm-2",children:Object(d.jsx)(x,{defaultVal:!1,id:"latex",text:"LaTeX Format",updateParameter:this.updateExportParameter})}),Object(d.jsx)("div",{className:"col-sm-10",children:this.state.latex?Object(d.jsxs)("p",{children:["Environment \xa0",Object(d.jsx)(u,{width:"100px",defaultVal:"bmatrix",id:"environment",updateParameter:this.updateExportParameter})]}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:["Open arrays with \xa0",Object(d.jsx)(u,{width:"20px",defaultVal:"{",id:"start",updateParameter:this.updateExportParameter})]}),Object(d.jsxs)("p",{children:["End arrays with \xa0",Object(d.jsx)(u,{width:"20px",defaultVal:"}",id:"end",updateParameter:this.updateExportParameter})]}),Object(d.jsxs)("p",{children:["Separate elements with \xa0",Object(d.jsx)(u,{width:"20px",defaultVal:",",id:"delim",updateParameter:this.updateExportParameter})]})]})})]})}},{key:"matrixToString",value:function(){if(this.state.latex){for(var t="\\begin{"+this.state.environment+"}\n",e=0;e<this.props.matrix.length-1;e++)for(var r=0;r<this.props.matrix[0].length-1;r++)""===this.props.matrix[e][r]?t+=this.props.sparseVal:t+=this.props.matrix[e][r],r!==this.props.matrix[0].length-2?t+=" & ":e!==this.props.matrix.length-2&&(t+=" \\\\ \n");return t+"\n\\end{"+this.state.environment+"}"}var s=this.state.start,a=this.state.end,o=this.state.delim;for(t=s.toString(),e=0;e<this.props.matrix.length-1;e++){for(t+=s,r=0;r<this.props.matrix[0].length-1;r++)""!==this.props.matrix[e][r]?t+=this.props.matrix[e][r]:t+=this.props.sparseVal,r!==this.props.matrix[0].length-2&&(t+=o);t+=a,e!==this.props.matrix.length-2&&(t+=o)}return t+a}}]),r}(a.a.Component),j=function(t){Object(l.a)(r,t);var e=Object(c.a)(r);function r(t){var s;return Object(n.a)(this,r),(s=e.call(this,t)).toggleExport=function(){s.state.showExport?s.setState({showExport:!1}):s.setState({showExport:!0})},s.tryToDelete=function(t,e){if(50!==t&&50!==e&&(t===s.props.matrix.length-1||e===s.props.matrix[0].length-1))return null;var r=s.props.matrix,a=!0;if(s.props.matrix.length>2){for(var o=0;o<s.props.matrix[0].length;o++)if(""!==s.props.matrix[t][o]){a=!1;break}a&&r.splice(t,1)}if(a=!0,s.props.matrix[0].length>2){for(o=0;o<s.props.matrix.length;o++)if(""!==s.props.matrix[o][e]){a=!1;break}if(a)for(o=0;o<r.length;o++)r[o].splice(e,1)}s.props.updateMatrix(r,s.props.name)},s.updateEntry=function(t,e,r){if(50!=t&&50!=e){var a=s.props.matrix;a[t][e]=r,s.props.updateMatrix(a,s.props.name)}else alert("Max matrix size reached!")},s.addCols=function(t){var e=s.props.matrix;e[0].length+t>51&&(t=51-e[0].length);for(var r=0;r<e.length;r++)for(var a=0;a<t;a++)e[r].push("");return s.props.updateMatrix(e,s.props.name),e},s.addRows=function(t){var e=s.props.matrix;e.length+t>51&&(t=51-e.length);for(var r=0;r<t;r++)e.push(new Array(e[0].length).fill(""));return s.props.updateMatrix(e,s.props.name),e},s.mirrorRowsOntoColumns=function(t){if(s.props.matrix.length>s.props.matrix[0].length)var e=s.addCols(s.props.matrix.length-s.props.matrix[0].length);else e=s.addRows(s.props.matrix[0].length-s.props.matrix.length);for(var r=0;r<e.length;r++)for(var a=r+1;a<e.length;a++)e[a][r]=e[r][a];s.props.updateMatrix(e,s.props.name)},s.mirrorColumnsOntoRows=function(t){if(s.props.matrix.length>s.props.matrix[0].length)var e=s.addCols(s.props.matrix.length-s.props.matrix[0].length);else e=s.addRows(s.props.matrix[0].length-s.props.matrix.length);for(var r=0;r<e.length;r++)for(var a=r+1;a<e.length;a++)e[r][a]=e[a][r];s.props.updateMatrix(e,s.props.name)},s.transpose=function(){for(var t=Array(s.props.matrix[0].length).fill(0),e=0;e<t.length;e++){for(var r=Array(s.props.matrix.length).fill(0),a=0;a<r.length;a++)r[a]=s.props.matrix[a][e];t[e]=r}s.props.updateMatrix(t,s.props.name)},s.randomMatrix=function(){var t=s.props.matrix,e=parseInt(prompt("Lower bound?",1)),r=parseInt(prompt("Upper bound?",e+10))+1;if(!isNaN(e)&&!isNaN(r)){for(var a=0;a<t.length-1;a++)for(var o=0;o<t[0].length-1;o++)t[a][o]=Math.floor(Math.random()*(r-e))+e;s.props.updateMatrix(t,s.props.name)}},s.state={showExport:!1,sparseVal:"0"},s}return Object(i.a)(r,[{key:"render",value:function(){var t=this,e=this.props.matrix.map((function(e,r){return Object(d.jsx)(m,{rows:t.props.matrix.length,cols:t.props.matrix[0].length,tryToDelete:t.tryToDelete,addRows:t.addRows,addCols:t.addCols,updateEntry:t.updateEntry,boxes:e,row:r,mirror:t.props.mirror},"row"+r)}));return Object(d.jsxs)("div",{className:"matrixEditor",children:[Object(d.jsx)("table",{className:"table table-bordered table-hover",children:Object(d.jsxs)("tbody",{children:[" ",e," "]})}),Object(d.jsx)("button",{className:"btn btn-secondary matrixButtons",onClick:this.transpose,children:"Transpose"}),Object(d.jsx)("button",{className:"btn btn-secondary matrixButtons",onClick:this.randomMatrix,children:"Random Matrix"}),Object(d.jsx)("button",{className:"btn btn-secondary matrixButtons",onClick:this.mirrorRowsOntoColumns,children:"Mirror Rows Across Diagonal"}),Object(d.jsx)("button",{className:"btn btn-secondary matrixButtons",onClick:this.mirrorColumnsOntoRows,children:"Mirror Columns Across Diagonal "}),Object(d.jsx)("button",{className:"btn btn-secondary matrixButtons",onClick:this.toggleExport,children:this.state.showExport?"Close":"Export Matrix"}),this.state.showExport?Object(d.jsx)(f,{matrix:this.props.matrix,sparseVal:this.state.sparseVal}):null]})}}]),r}(a.a.Component),b=function(t){Object(l.a)(r,t);var e=Object(c.a)(r);function r(t){var s;Object(n.a)(this,r),(s=e.call(this,t)).updateSelection=function(){s.props.updateSelection(s.props.name)},s.renameMatrix=function(t){var e=t.target.value;/^[A-Za-z_]*$/.test(e)&&s.setState({displayName:e})},s.handleFocus=function(t){var e=s.props.matrices[s.props.name].length-1,r=s.props.matrices[s.props.name][0].length-1;s.setState({displaySize:e+" x "+r})},s.resizeMatrix=function(t){var e=t.target.value;/^[0-9 \s]*[x]?[0-9 \s]*$/.test(e)&&s.setState({displaySize:e})},s.pushNewName=function(){s.state.displayName!==s.props.name&&(""===s.state.displayName?(alert("The name can not be blank!"),s.setState({displayName:s.props.name})):s.state.displayName in s.props.matrices?(alert("The name "+s.state.displayName+" already exists!"),s.setState({displayName:s.props.name})):(s.props.renameMatrix(s.props.name,s.state.displayName),s.props.updateSelection(s.state.displayName)))},s.pushNewSize=function(){if(/[0-9]* ?x ?[0-9]*/.test(s.state.displaySize)){var t=parseInt(s.state.displaySize.substring(0,s.state.displaySize.indexOf("x"))),e=parseInt(s.state.displaySize.substring(s.state.displaySize.indexOf("x")+1));if(t>0&&e>0)s.setState({displaySize:t+" x "+e}),s.props.resizeMatrix(s.props.name,t+1,e+1);else{alert("Dimensions can not be zero");t=s.props.matrices[s.props.name].length-1,e=s.props.matrices[s.props.name][0].length-1;s.setState({displaySize:t+" x "+e})}}else{t=s.props.matrices[s.props.name].length-1,e=s.props.matrices[s.props.name][0].length-1;s.setState({displaySize:t+" x "+e})}},s.handleKeyDown=function(t){13===t.keyCode&&t.target.blur()};var a=s.props.matrices[s.props.name].length-1+" x "+(s.props.matrices[s.props.name][0].length-1);return s.state={displayName:s.props.name,displaySize:a},s}return Object(i.a)(r,[{key:"render",value:function(){if(document.activeElement===document.getElementById("size "+this.props.name))var t=this.state.displaySize;else t=this.props.matrices[this.props.name].length-1+" x "+(this.props.matrices[this.props.name][0].length-1);return Object(d.jsxs)("button",{type:"button",class:"list-group-item list-group-item-action"+(this.props.active?" active":""),onClick:this.updateSelection,children:[Object(d.jsx)("input",{type:"text",value:this.state.displayName,id:this.props.name,onChange:this.renameMatrix,onKeyDown:this.handleKeyDown,onBlur:this.pushNewName,onFocus:this.handleFocus}),Object(d.jsx)("input",{className:"sizeInfo",id:"size "+this.props.name,value:t,onChange:this.resizeMatrix,onBlur:this.pushNewSize,onFocusCapture:this.handleFocus,onKeyDown:this.handleKeyDown})]})}}]),r}(a.a.Component),g=function(t){Object(l.a)(r,t);var e=Object(c.a)(r);function r(t){var s;return Object(n.a)(this,r),(s=e.call(this,t)).state={sort:!1},s}return Object(i.a)(r,[{key:"render",value:function(){var t,e,r,s=[];for(var a in this.props.matrices)s.push(Object(d.jsx)(b,{name:a,updateSelection:this.props.updateSelection,renameMatrix:this.props.renameMatrix,resizeMatrix:this.props.resizeMatrix,active:this.props.selection===a,matrices:this.props.matrices},a));if(this.state.sort)for(e=1;e<s.length;e++)if((t=s[e]).props.name.toUpperCase()<s[e-1].props.name.toUpperCase()){for(r=e-1;r>=0&&t.props.name<s[r].props.name;r--)s[r+1]=s[r];s[r+1]=t}return s.push(Object(d.jsx)(w,{addMatrix:this.props.addMatrix}," add ")),Object(d.jsxs)("div",{class:"row",children:[Object(d.jsx)("div",{class:"col-sm-4",children:Object(d.jsx)("div",{id:"selectors",class:"list-group",children:s})}),Object(d.jsx)("div",{class:"col-sm-4",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:"Click on a Matrix's name to rename it. Valid characters are uppercase and lowercase letters, and underscores."}),Object(d.jsx)("li",{children:"Type in a pink box Click on a Matrix's dimensions to resize it. The maximum size is 50 x 50."})]})}),Object(d.jsx)("div",{class:"col-sm-4",children:Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:["Interpret empty elements (excluding pink boxes) as \xa0",Object(d.jsx)(u,{width:"30px",defaultVal:"0",id:"sparse",updateParameter:this.props.updateParameter})," "]}),Object(d.jsx)("li",{children:Object(d.jsx)(x,{defaultVal:!1,name:"mirror",text:"Mirror along Diagonal",updateParameter:this.props.updateParameter})})]})})]})}}]),r}(a.a.Component),w=function(t){Object(l.a)(r,t);var e=Object(c.a)(r);function r(){var t;Object(n.a)(this,r);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).addMatrix=function(){t.props.addMatrix()},t}return Object(i.a)(r,[{key:"render",value:function(){return Object(d.jsx)("button",{type:"button",class:"list-group-item list-group-item-info",onClick:this.addMatrix,children:"New Matrix"})}}]),r}(a.a.Component),v=g,y=function(t){Object(l.a)(r,t);var e=Object(c.a)(r);function r(t){var s;return Object(n.a)(this,r),(s=e.call(this,t)).updateMatrix=function(t,e){var r=s.state.matrices;r[e]=t,s.setState({matrices:r}),console.log(s.state.matrices)},s.updateSelection=function(t){s.setState({selection:t})},s.renameMatrix=function(t,e){var r=s.state.matrices;return!(e in r)&&(r[e]=r[t],delete r[t],s.setState({matrices:r}),!0)},s.copyMatrix=function(t,e){var r=s.state.matrices;r[e]=r[t].map((function(t){return t.slice()})),s.setState({matrices:r})},s.addMatrix=function(){for(var t=s.state.matrices,e="A",r=65;e in t;)90===r?(e+="A",r=65):e=e.substring(0,e.length-1)+String.fromCharCode(++r);t[e]=[["",""],["",""]],s.setState({matrices:t},(function(){var t=document.getElementById("selectors");t.scrollTop=t.scrollHeight}))},s.updateParameter=function(t,e){switch(t){case"sparse":s.setState({sparseVal:e});break;case"mirror":s.setState({mirror:e})}},s.resizeMatrix=function(t,e,r){if(s.state.matrices[t].length!==e||s.state.matrices[t][0].length!==r){e>51&&(e=51),r>51&&(r=51);for(var a=Math.min(e,s.state.matrices[t].length),o=Math.min(r,s.state.matrices[t][0].length),p=Array(e).fill([]),n=0;n<a-1;n++){for(var i=Array(r).fill(""),l=0;l<o-1;l++)i[l]=s.state.matrices[t][n][l];for(l=o-1;l<r;l++)i[l]="";p[n]=i}for(n=a-1;n<e;n++)p[n]=Array(r).fill("");console.log(p),console.log(o),s.updateMatrix(p,t)}},s.state={mirror:!1,sparseVal:"0",selection:"A",matrices:{A:[["",""],["",""]]}},s}return Object(i.a)(r,[{key:"render",value:function(){if(this.state.selection in this.state.matrices)var t=Object(d.jsx)(j,{matrix:this.state.matrices[this.state.selection],name:this.state.selection,updateMatrix:this.updateMatrix,updateParameter:this.updateParameter,mirror:this.state.mirror});else t=null;return Object(d.jsxs)("div",{children:[Object(d.jsx)(v,{matrices:this.state.matrices,updateSelection:this.updateSelection,addMatrix:this.addMatrix,renameMatrix:this.renameMatrix,selection:this.state.selection,updateMatrix:this.updateMatrix,resizeMatrix:this.resizeMatrix,updateParameter:this.updateParameter}),t]})}}]),r}(a.a.Component);p.a.render(Object(d.jsx)(y,{}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.a55c3e89.chunk.js.map